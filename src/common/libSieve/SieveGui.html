<!DOCTYPE html>
<html>
<head>
  <title>Sieve DOM</title>
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
  <link rel="stylesheet" href="toolkit/style/layout.css" type="text/css" />
  <link rel="stylesheet" href="toolkit/style/style.css" type="text/css" />
  <link rel="stylesheet" href="toolkit/widgets/tabDialog.css" type="text/css" />

  <!-- Global Imports -->
  <script type="application/javascript" src="./../jQuery/jquery.min.js"></script>

  <!-- Basic Sieve Elements -->
  <script type="application/javascript" src="toolkit/SieveParser.js"></script>
  <script type="application/javascript" src="toolkit/SieveLexer.js"></script>
  <script type="application/javascript" src="toolkit/SieveDesigner.js"></script>

  <script type="application/javascript" src="toolkit/SieveScriptDOM.js"></script>
  <script type="application/javascript" src="toolkit/logic/Elements.js"></script>
  <script type="application/javascript" src="toolkit/widgets/Boxes.js"></script>
  <script type="application/javascript" src="toolkit/widgets/Widgets.js"></script>

  <script type="application/javascript" src="toolkit/events/DataTransfer.js"></script>
  <script type="application/javascript" src="toolkit/events/DropHandler.js"></script>
  <script type="application/javascript" src="toolkit/events/DragHandler.js"></script>


  <!-- logic related Imports -->
  <script type="application/javascript" src="toolkit/logic/GenericElement.js"></script>
  <!-- RFC 5228 - Sieve -->
  <script type="application/javascript" src="RFC5228/logic/SieveWhiteSpaces.js" ></script>
  <script type="application/javascript" src="RFC5228/logic/SieveStrings.js" ></script>
  <script type="application/javascript" src="RFC5228/logic/SieveNumbers.js" ></script>
  <script type="application/javascript" src="RFC5228/logic/SieveMatchTypes.js" ></script>
  <script type="application/javascript" src="RFC5228/logic/SieveAddressParts.js" ></script>
  <script type="application/javascript" src="RFC5228/logic/SieveComparators.js" ></script>
  <script type="application/javascript" src="RFC5228/logic/SieveBlocks.js"></script>
  <script type="application/javascript" src="RFC5228/logic/SieveTests.js"></script>
  <script type="application/javascript" src="RFC5228/logic/SieveOperators.js"></script>
  <script type="application/javascript" src="RFC5228/logic/SieveConditions.js"></script>

  <script type="application/javascript" src="RFC5228/logic/SieveActions.js"></script>
  <script type="application/javascript" src="RFC5228/logic/SieveImports.js"></script>

  <!-- RFC 5232 - ImapFlags-->
  <script type="application/javascript" src="imapflags/logic/SieveImapFlags.js"></script>

    <!-- UI related Imports -->
  <!-- RFC 5228 - Sieve -->
  <script type="application/javascript" src="RFC5228/widgets/SieveStringsUI.js" ></script>
  <script type="application/javascript" src="RFC5228/widgets/SieveNumbersUI.js" ></script>
  <script type="application/javascript" src="RFC5228/widgets/SieveBlocksUI.js"></script>
  <script type="application/javascript" src="RFC5228/widgets/SieveMatchTypesUI.js" ></script>
  <script type="application/javascript" src="RFC5228/widgets/SieveAddressPartUI.js" ></script>
  <script type="application/javascript" src="RFC5228/widgets/SieveComparatorsUI.js" ></script> 
  <script type="application/javascript" src="RFC5228/widgets/SieveTestsUI.js" ></script>
  <script type="application/javascript" src="RFC5228/widgets/SieveOperatorsUI.js"></script>
  <script type="application/javascript" src="RFC5228/widgets/SieveConditionsUI.js"></script>
  <script type="application/javascript" src="RFC5228/widgets/SieveActionsUI.js"></script>

  <!-- RFC 5429 - Reject -->
  <script type="application/javascript" src="reject/widgets/SieveRejectUI.js"></script>
  <script type="application/javascript" src="reject/logic/SieveReject.js"></script>

  <!-- RFC 5232 - ImapFlags-->
  <script type="application/javascript" src="imapflags/widgets/SieveImapFlagsUI.js"></script> 

  <!-- RFC Draft for RegEx-->
  <script type="application/javascript" src="regex/logic/SieveRegularExpression.js" ></script>
  <script type="application/javascript" src="regex/widgets/SieveRegularExpressionUI.js" ></script>

  <!-- RFC5173 - Body -->
  <script type="application/javascript" src="body/logic/SieveBody.js" ></script>
  <script type="application/javascript" src="body/widgets/SieveBodyUI.js" ></script>

  <!-- RFC5230 - Vacation -->
  <script type="application/javascript" src="vacation/logic/SieveVacation.js" ></script>
  <script type="application/javascript" src="vacation/widgets/SieveVacationUI.js" ></script>

  <!-- RFC5229 - Variables -->
  <script type="application/javascript" src="variables/logic/SieveVariables.js" ></script>
  <script type="application/javascript" src="variables/widgets/SieveVariablesUI.js" ></script>

  <!-- RFC6609 - Include -->
  <script type="application/javascript" src="include/logic/SieveInclude.js" ></script>
  <script type="application/javascript" src="include/widget/SieveIncludeUI.js" ></script>

  <!-- RFC5233 - Subaddress -->
  <script type="application/javascript" src="subaddress/logic/SieveSubaddress.js" ></script>
  <script type="application/javascript" src="subaddress/widgets/SieveSubaddressUI.js" ></script>

  <!-- RFC5490 - Mailbox -->
  <script type="application/javascript" src="mailbox/logic/SieveMailbox.js" ></script>
  <script type="application/javascript" src="mailbox/widgets/SieveMailboxUI.js" ></script>
   
  <!-- RFC55293 - Editheader -->
  <script type="application/javascript" src="editheader/logic/SieveEditheader.js" ></script>
  <script type="application/javascript" src="editheader/widgets/SieveEditheaderUI.js" ></script>

  <!-- RFC3894 - Copy -->
  <script type="application/javascript" src="copy/logic/SieveCopy.js" ></script>
  <script type="application/javascript" src="copy/widgets/SieveCopyUI.js" ></script>

</head>
<body>

  <!-- the toolvar -->
  <div  id="toolbar" >
    <div id="sivActions"></div>
  </div>

  <div id="content">

    <!-- Infobar -->
    <div id="infobar">
      <div id="infobarsubject"  >
         <span>
           Message Text
	     </span>
	     <button onclick='$("#infobar").toggle();'>Dismiss</button>
      </div>
    </div>

<div id="sivDialog" style="display: none;" >
  <div id="sivDialogOverlay"></div>
  <div id="sivDialogContent">
    <div style="text-align:right; background-color: #455A64; height:24px;color: rgba(255,255,255,0.7)">
      <div id="sivDialogClose" style="display: inline-block; line-height: 24px; margin-right:15px; font-size:12px; font-weight:900; ">X</div>
    </div>
    <div id="sivDialogBody">
    </div>
  </div>
</div>

<!--<div id="debug2" style="display:none">-->
<div id="debug2">
<div>
   <div id="boxScript" style="display:none;overflow: hidden;width: 100%; ">
     <div style="float:left; padding:5px;">
        <div>Input:</div>
        <textarea id="txtScript" cols="50" rows="10" wrap="off">
        </textarea>
      </div>
      <div style="float:left; padding:5px;">
        <div>Result:</div>
        <textarea id="txtOutput" cols="50" rows="10" readonly="readonly" wrap="off"></textarea>
      </div>
    </div>
</div >


<div id="Capabilities" style="display: none;">

  <div id="CapabilityOverlay"></div>

  <div id="CapabilitiesDialog">
    <div><input type="checkbox" name="capabilities" value="comparator-i;ascii-numeric" checked>comparator-i;ascii-numeric (RFC5228)</div>
    <div><input type="checkbox" name="capabilities" value="envelope" checked>envelope (RFC5228)</div>
    <div><input type="checkbox" name="capabilities" value="fileinto" checked>fileinto (RFC 5228)</div>

    <div><input type="checkbox" name="capabilities" value="imap4flags" checked>imap4flags (RFC 5232)</div>

    <div><input type="checkbox" name="capabilities" value="reject" checked>reject (RFC5429)</div>
    <div><input type="checkbox" name="capabilities" value="ereject" checked>ereject (RFC5429)</div>

    <div><input type="checkbox" name="capabilities" value="regex" checked>regex</div>

  	<div><input type="checkbox" name="capabilities" value="body" checked>body (RFC5173)</div>
  	<div><input type="checkbox" name="capabilities" value="vacation" checked>vacation (RFC5230)</div>
  	<div><input type="checkbox" name="capabilities" value="variables" checked>variables (RFC5229)</div>
  	<div><input type="checkbox" name="capabilities" value="include" checked>include (RFC6609)</div>

    <div><input type="checkbox" name="capabilities" value="mailbox" checked>mailbox (RFC5490)</div>
    <div><input type="checkbox" name="capabilities" value="mboxmetadata" checked>mboxmetadata (RFC5490)</div>
    <div><input type="checkbox" name="capabilities" value="servermetadata" checked>servermetadata (RFC5490)</div>

    <div><input type="checkbox" name="capabilities" value="subaddress" checked>subaddress (RFC5233)</div>

    <div><input type="checkbox" name="capabilities" value="copy" checked>copy (RFC3894)</div>

    <div><input type="checkbox" name="capabilities" value="editheader" checked>editheader (RFC5293)</div>
	   
	  <div>
	    <button id="CapabilitiesApply">Apply</button>
	    <button id="CapabilitiesAll">Select All</button>
	    <button id="CapabilitiesHide">Cancel</button>
	  </div>
  </div>
</div>

<div>
  <button id="DebugParse">
	   Parse Sieve Script
	 </button>
  <button id="DebugStringify">
	  Update Sieve Script
	</button>
  <button id="DebugRequire">
	  Collect Require
	</button>
  <button id="DebugCompact">
	  Compact
	</button>
  <button id="DebugCapabilities">
	  Set Capabilities
	</button>
  <button id="DebugToggle">
	  Show/Hide
	</button>
	<input id="draggable" />
	<span id="DebugDropTarget">DROP TARGET</span>
</div>
</div>


	<div id="divOutput">
  </div>

  <script type="application/javascript" src="SieveGui.js"></script>
</div>
</body>
</html>
